<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="This webpage allows users to perform text manipulation tasks such as replacing specific characters or strings, adding text at the beginning or end of each line, and adding line numbers.">
  <title>Text Manipulation Tool | text editor</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f5f5f5;
      margin: 0;
      padding: 0;
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      padding: 20px;
    }

    h1 {
      font-size: 36px;
      color: #333;
      text-align: center;
      margin-bottom: 20px;
    }

    p {
      font-size: 16px;
      color: #666;
      text-align: justify;
      margin-bottom: 20px;
    }

    .content {
      width: 100%;
      max-width: 800px;
      display: flex;
      flex-direction: row;
      justify-content: space-between;
    }

    .box {
      background-color: #f9f9f9;
      padding: 20px;
      border-radius: 10px;
      margin-right: 20px;
      width: 100%;
    }

    textarea {
      width: calc(100% - 20px);
      min-height: 300px;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      resize: vertical;
      box-sizing: border-box;
      font-size: 16px;
      margin-bottom: 10px;
    }

    .additional-text {
      display: none;
    }

    .checkbox-container {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
    }

    .checkbox-container input[type="checkbox"] {
      margin-right: 10px;
    }

    .additional-text input[type="text"] {
      width: calc(100% - 5px);
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      margin-bottom: 30px;
      box-sizing: border-box;
      font-size: 16px;
    }

    .replacer-container {
      margin-bottom: 20px;
    }

    .replacer-container .row {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }

    .replacer-container .row input[type="text"] {
      width: calc(50% - 5px);
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      margin-right: 10px;
      box-sizing: border-box;
      font-size: 16px;
    }

    .replacer-container .row .icon {
      font-size: 24px;
      cursor: pointer;
    }

    .convert-button {
      display: block;
      width: calc(100% - 20px);
      padding: 15px;
      border: none;
      border-radius: 5px;
      background-color: #007bff;
      color: #fff;
      font-size: 18px;
      cursor: pointer;
    }

    .convert-button:hover {
      background-color: #0056b3;
    }

    .notepad {
      background-color: #f9f9f9;
      padding: 20px;
      border-radius: 10px;
      width: 50%;
    }

    pre {
      margin: 0;
      padding: 0;
    }

    .button-container {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }

    .copy-button {
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      background-color: #007bff;
      color: #fff;
      font-size: 16px;
      cursor: pointer;
    }

    .copy-button:hover {
      background-color: #0056b3;
    }

    .remove-lines-checkbox-container,
    .checkbox-container {
      width: 50%;
    }

    .remove-lines-checkbox-container {
      display: flex;
      align-items: center;
      justify-content: flex-end;
    }

  </style>
</head>
<body>
  <div class="container">
    <h1>TEXT EDITOR</h1>
    <p>This webpage allows users to perform various operations on text:</p>
    <ul>
      <li>You can replace specific characters or strings with other characters or strings.</li>
      <li>You can add text at the beginning or end of each line.</li>
      <li>You can add line numbers at the beginning of each line.</li>
      <li>You can remove all line breaks and make the text a single line.</li>
      <li>You can remove all empty line.</li>
    </ul>
    <div class="content">
      <div class="box">
        <textarea id="inputBox" rows="3" placeholder="Enter your text here"></textarea>
        <div class="checkbox-container">
          <input type="checkbox" id="beginningCheckbox" onchange="toggleAdditionalTextInputs()">
          <label for="beginningCheckbox">Add text at the Beginning</label>
        </div>
          <div id="beginningTextRow" class="additional-text">
            <input type="text" placeholder="Text to add at the beginning">
          </div>
        <div class="checkbox-container">
          <input type="checkbox" id="endCheckbox" onchange="toggleAdditionalTextInputs()">
          <label for="endCheckbox">Add text at the End</label>
        </div>
          <div id="endTextRow" class="additional-text">
            <input type="text" placeholder="Text to add at the end">
        </div>
        <div class="checkbox-container">
          <input type="checkbox" id="lineNumberCheckbox">
          <label for="lineNumberCheckbox">Add Line Numbers</label>
        </div>
        <div class="checkbox-container">
          <input type="checkbox" id="removeLinesCheckbox">
          <label for="removeLinesCheckbox">Remove empty lines</label>
        </div>
        <div class="checkbox-container">
          <input type="checkbox" id="lineBreakerCheckbox">
          <label for="lineBreakerCheckbox">Make single line</label>
        </div>
        <h2>REPLACER</h2>
        <div class="replacer-container" id="replaceBox">
          <div class="row">
            <input type="text" placeholder="Text to replace">
            <input type="text" placeholder="Replacement text">
            <span class="icon" onclick="addRowReplace()">+</span>
          </div>
        </div>
        <button class="convert-button" onclick="convertText()">LETS GO</button>
      </div>
      <div class="notepad" id="notepadSection">
        <h2>COPY OUT</h2>
        <pre id="notepadContent"></pre>
        <div class="button-container" id="copyButtonContainer" style="display: none;">
          <button class="copy-button" onclick="copyText()">COPY ALL</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    function toggleAdditionalTextInputs() {
      const beginningCheckbox = document.getElementById("beginningCheckbox");
      const endCheckbox = document.getElementById("endCheckbox");
      const beginningTextRow = document.getElementById("beginningTextRow");
      const endTextRow = document.getElementById("endTextRow");

      beginningTextRow.style.display = beginningCheckbox.checked ? "block" : "none";
      endTextRow.style.display = endCheckbox.checked ? "block" : "none";
    }

    function addRowReplace() {
      const replaceBox = document.getElementById("replaceBox");
      const newRow = document.createElement("div");
      newRow.classList.add("row");
      newRow.innerHTML = `
        <input type="text" placeholder="Text to replace">
        <input type="text" placeholder="Replacement text">
        <span class="icon" onclick="removeRowReplace(this)">-</span>
      `;
      replaceBox.appendChild(newRow);
    }

    function removeRowReplace(icon) {
      const row = icon.parentNode;
      row.parentNode.removeChild(row);
    }

    function convertText() {
      const inputBox = document.getElementById("inputBox");
      const notepadContent = document.getElementById("notepadContent");
      let text = inputBox.value;
      const beginningText = document.getElementById("beginningTextRow").querySelector("input").value;
      const endText = document.getElementById("endTextRow").querySelector("input").value;
      const addLineNumbers = document.getElementById("lineNumberCheckbox").checked;
      const removeLines = document.getElementById("removeLinesCheckbox").checked;
      const lineBreaker = document.getElementById("lineBreakerCheckbox").checked;

      if (beginningText) {
        text = text.split('\n').map(line => beginningText + line).join('\n');
      }

      if (endText) {
        text = text.split('\n').map(line => line + endText).join('\n');
      }

      const replaceRows = document.querySelectorAll("#replaceBox .row");
      replaceRows.forEach(row => {
        const textInput = row.querySelector("input:first-child");
        const replaceInput = row.querySelector("input:nth-child(2)");
        const replaceText = replaceInput.value;
        text = text.replace(new RegExp(textInput.value, "g"), replaceText);
      });
      
      if (removeLines) {
        text = text.replace(/^\s*[\r\n]/gm, '').replace(/[\r\n\s]*$/, '');
      }

      if (addLineNumbers) {
        text = text.split('\n').map((line, index) => (index + 1) + line).join('\n');
      }

      if (lineBreaker) {
        text = text.replace(/\n/g, '');
      }

      notepadContent.innerHTML = text;
      document.getElementById("copyButtonContainer").style.display = "block";
    }

    function copyText() {
      const notepadContent = document.getElementById("notepadContent");
      const range = document.createRange();
      range.selectNode(notepadContent);
      window.getSelection().removeAllRanges();
      window.getSelection().addRange(range);
      document.execCommand("copy");
      window.getSelection().removeAllRanges();
    }
  </script>
</body>
</html>
